/*!
 * Antinus Innovation
 * All rights reserved
 */
webpackJsonp([1],{524:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(a(13)),u=f(a(1)),n=f(a(14)),l=f(a(2)),o=f(a(3)),d=f(a(0)),c=f(a(126)),i=f(a(231)),s=f(a(536));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return(0,u.default)(this,t),(0,l.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,n.default)(t,[{key:"render",value:function(){return d.default.createElement(s.default,null)}}]),t}(d.default.PureComponent);t.default=(0,c.default)([i.default],m)},536:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(a(60)),u=f(a(127)),n=f(a(13)),l=f(a(1)),o=f(a(14)),d=f(a(2)),c=f(a(3)),i=f(a(0)),s=f(a(86));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,r,u;(0,l.default)(this,t);for(var o=arguments.length,c=Array(o),i=0;i<o;i++)c[i]=arguments[i];return a=r=(0,d.default)(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(c))),r.chunks=[],r.reader=new FileReader,r.state={audios:[]},r.getAudio=function(e){return r.audio=e},r.startRecord=function(){"recording"!==r.mediaRecorder.state&&(r.mediaRecorder.start(),setTimeout(r.cutRecord,600))},r.cutRecord=function(){r.mediaRecorder.stop(),r.startRecord()},r.stopReord=function(){"inactive"!==r.mediaRecorder.stat&&r.mediaRecorder.stop()},r.mergeRecords=function(){var e=new Blob(r.chunks,{type:"audio/ogg"});console.log(e),console.log(r.chunks),r.chunks=[];var t=URL.createObjectURL(e);r.audio.src=t},u=a,(0,d.default)(r,u)}return(0,c.default)(t,e),(0,o.default)(t,[{key:"makeNewClip",value:function(e){var t=e.clip,a=e.sum,r=e.mostOccured,n=e.occuredTime,l=[].concat((0,u.default)(this.state.audios));l.push({clip:t,sum:a,mostOccured:r,occuredTime:n}),this.setState({audios:l})}},{key:"componentDidMount",value:function(){var e=this;navigator.mediaDevices.getUserMedia({audio:!0}).then(function(t){e.mediaRecorder=new MediaRecorder(t),e.mediaRecorder.ondataavailable=function(t){e.chunks.push(t.data),e.analysis(new Blob([t.data],{type:"audio/ogg"}))}}).catch(function(e){console.log(e)})}},{key:"analysis",value:function(e){var t=this;this.reader.readAsArrayBuffer(e),this.reader.onloadend=function(){var a=[],u=0,n=-1/0,l=0,o=!0,d=!1,c=void 0;try{for(var i,s=(0,r.default)(new Int8Array(t.reader.result));!(o=(i=s.next()).done);o=!0){var f=i.value;void 0===a[f]?a[f]=0:a[f]++,u+=f}}catch(e){d=!0,c=e}finally{try{!o&&s.return&&s.return()}finally{if(d)throw c}}for(var m=0;m<a.length;m++)a[m]>n&&(n=a[m],l=m);t.makeNewClip({clip:URL.createObjectURL(e),sum:u,mostOccured:l,occuredTime:n})}}},{key:"render",value:function(){var e=this.state.audios;return i.default.createElement(i.default.Fragment,null,i.default.createElement(s.default,{onClick:this.startRecord,text:"开始"}),i.default.createElement(s.default,{onClick:this.mergeRecords,text:"合成"}),i.default.createElement(s.default,{onClick:this.stopReord,text:"终止"}),i.default.createElement("div",null,i.default.createElement("span",null,"Main audio"),i.default.createElement("audio",{controls:!0,ref:this.getAudio})),e.map(function(e){return i.default.createElement("div",{key:e.clip},i.default.createElement("audio",{controls:!0,src:e.clip}),i.default.createElement("br",null),i.default.createElement("span",null,"Sum:",e.sum),i.default.createElement("br",null),i.default.createElement("span",null,"mostOccured:",e.mostOccured),i.default.createElement("br",null),i.default.createElement("span",null,"occuredTime:",e.occuredTime),i.default.createElement("br",null))}))}}]),t}(i.default.PureComponent);t.default=m}});